'use strict';

// Seleccionamos los imputs 4, 6 y 8, el botón comenzar y la lista
var inputs = document.querySelectorAll('.input');
var button = document.querySelector('.button');
var list = document.querySelector('.card__list');

//Creamos una variable que guarde el numero de cards que queremos, 4 al principio
var numberOfCards = 4;

var listItem;
var imageFront;
var imageBack;

//añadimos un event listener al click de cada input 
for (var input of inputs){
  input.addEventListener('click', setCardNumber);
}
//creamos una función que cambie el valor de la variable del numero de cards dependiendo del input clickado
function setCardNumber(event){
  numberOfCards = event.currentTarget.value;
}

//añadimos un event listener al click del botón comenzar
button.addEventListener('click', createCards);

//creamos una funcion que se ejecuta cuando se pulsa el botón y llama a la API con el numero de cards que queremos
//convertimos la respuesta en json
//recorremos el json creando un li por cada elemento
//a ese li, le añadimos un event listener que lanzará la función para dar la vuelta a la card
//creamos dos imágenes por cada li
//una invisible por defecto, con la imagen del pokemon (url que viene de la api)
//y una visible, con la imagen de adalab

function createCards() {
  list.innerHTML = '';
  fetch('https://raw.githubusercontent.com/Adalab/cards-data/master/' + numberOfCards + '.json')
    .then(function(response){
      return response.json();
    })
    .then(function(json){
      for (var jsonItem of json) {
        listItem = document.createElement('li');
        listItem.classList.add('list__item');
        list.appendChild(listItem);
        listItem.addEventListener('click', flipCard);

        imageFront = document.createElement('img');
        imageFront.classList.add('hidden');
        listItem.appendChild(imageFront);
        imageFront.src = jsonItem.image;

        imageBack = document.createElement('img');
        imageBack.classList.add('visible');
        listItem.appendChild(imageBack);
        imageBack.src = 'https://via.placeholder.com/160x195/30d9c4/ffffff/?text=ADALAB';
      }
    });
}


//creamos la función que da la vuelta a la card clickada
//en realidad, solo necesitamos hacer visible la imagen invisible y viceversa
function flipCard(event){
  var imageVisible = event.currentTarget.querySelector('.visible');
  var imageHidden = event.currentTarget.querySelector('.hidden');

  imageVisible.classList.remove('visible');
  imageVisible.classList.add('hidden');

  imageHidden.classList.remove('hidden');
  imageHidden.classList.add('visible');
}
//# sourceMappingURL=main.min.js.map
